<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zhi Han's 2nd Birthday & Zhen Han's Dedication</title>
    <link rel="icon" type="image/x-icon" href="images/zh512.png">

    <meta name="description" content="üéâ Join us in celebrating Zhi Han's 2nd Birthday & Zhen Han's Dedication on December 7, 2025">
    <meta name="keywords" content="Zhi Han, Zhen Han, Birthday, Dedication, Celebration">
    <meta name="robots" content="index, follow">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Zhi Han's 2nd Birthday & Zhen Han's Dedication" />
    <meta property="og:description" content="üéâ Join us in celebrating Zhi Han's 2nd Birthday & Zhen Han's Dedication on December 7, 2025" />
    <meta property="og:image" content="https://zhihan-zhenhan-invitation.vercel.app/images/cover.jpg" />
    <!-- <meta name="og:image" content="https://zhihan-zhenhan-invitation.vercel.app/images/cover.jpg" /> -->
    <!-- <meta property="og:image:secure_url" content="https://zhihan-zhenhan-invitation.vercel.app/images/cover.jpg" /> -->
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:url" content="https://zhihan-zhenhan-invitation.vercel.app/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Zhi Han & Zhen Han Celebration" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image:width" content="800" />
    <meta property="og:image:height" content="420" />
    <meta property="og:image:alt" content="Celebration invitation for Zhi Han's 2nd Birthday and Zhen Han's Dedication" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:image" content="https://zhihan-zhenhan-invitation.vercel.app/images/cover.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:domain" content="zhihan-zhenhan-invitation.vercel.app" />
    <meta property="twitter:url" content="https://zhihan-zhenhan-invitation.vercel.app/" />
    <meta name="twitter:title" content="Zhi Han's 2nd Birthday & Zhen Han's Dedication" />
    <meta name="twitter:description" content="üéâ Join us in celebrating Zhi Han's 2nd Birthday & Zhen Han's Dedication on December 7, 2025" />
    <meta name="twitter:image" content="https://zhihan-zhenhan-invitation.vercel.app/images/cover.jpg" />
    <meta name="twitter:image:width" content="800" />
    <meta name="twitter:image:height" content="420" />
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/add-to-calendar-button@2" async defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fff9fb;
            overflow-x: hidden;
        }
        h1, h2, h3, h4, h5 {
            font-family: 'Baloo 2', cursive;
        }
        .hero-bg {
            background: linear-gradient(135deg, #ffd6e7 0%, #d6f3ff 100%), url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDYwIDYwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMy4zIDAgNi0yLjcgNi02cy0yLjctNi02LTYtNiAyLjctNiA2IDIuNyA2IDYgNnptMCAyYy00LjQgMC04LTMuNi04LThzMy42LTggOC04IDggMy42IDggOC0zLjYgOC04IDh6Ii8+PC9nPjwvZz48L3N2Zz4=');
        }
        /* .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ff7eb9;
            opacity: 0.7;
            animation: fall 5s linear infinite;
            z-index: 999;
        } */
         .confetti {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff7eb9;
            opacity: 0.9;
            animation: fall 5s linear infinite;
            z-index: 999;
            clip-path: polygon(
                50% 0%,
                61% 35%,
                98% 35%,
                68% 57%,
                79% 91%,
                50% 70%,
                21% 91%,
                32% 57%,
                2% 35%,
                39% 35%
            );
        }

        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }
        .gallery-item {
            transition: all 0.3s ease;
        }
        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        .banner-img {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
        }
        .gift-item {
            transition: transform 0.3s ease;
        }
        .gift-item:hover {
            transform: translateY(-5px);
        }

        /* QR Modal Styles */
        #qrModal {
            transition: opacity 0.3s ease;
        }

        #qrModal:not(.hidden) {
            display: flex !important;
        }

        .qr-image {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .qr-image:hover {
            transform: scale(1.05);
        }

        /* Loading animation for modal image */
        #modalImage {
            min-height: 300px;
            background: #f3f4f6 url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMzgiIHZpZXdCb3g9IjAgMCAzOCAzOCIgc3Ryb2tlPSIjMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iOC4wNDIlIiB4Mj0iNjUuNjgyJSIgeTE9IjAlIiB5Mj0iMjMuODY1JSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42MzciIG9mZnNldD0iNjMuMTQ2JSIvPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmIiBvZmZzZXQ9IjEwMCUiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIj4KICAgICAgPHBhdGggZD0iTTM2IDE4YzAgOS45NC04LjA2IDE4LTE4IDE4IiBzdHJva2U9InVybCgjYSkiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMTggMTgiIHRvPSIzNjAgMTggMTgiIGR1cj0iMC45cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KICAgICAgPC9wYXRoPgogICAgICA8Y2lyY2xlIGZpbGw9IiNmZmYiIGN4PSIzNiIgY3k9IjE4IiByPSIxIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4=') no-repeat center center;
            background-size: 50px 50px;
        }


       /* Warm Wishes Section Styles */
  .warm-wishes-section {
    position: relative;
    min-height: 500px;
    overflow: hidden;
    background: linear-gradient(to bottom, #f0f9ff, #e0f2fe);
    padding: 40px 20px;
  }
  
  .bubble {
    position: absolute;
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    padding: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    overflow: hidden;
    word-wrap: break-word;
    font-family: 'Poppins', sans-serif;
    opacity: 0;
    z-index: 1;
    animation: fadeIn 0.8s ease forwards;
  }
  
   
  
  .bubble-xs {
    max-width: 150px;
    min-width: 90px;
    min-height: 50px;
    font-size: 0.7em;
  }

  .bubble-small {
    max-width: 180px;
    min-width: 120px;
    min-height: 70px;
    font-size: 0.8em;
  }
  
  .bubble-medium {
    max-width: 220px;
    min-width: 150px;
    min-height: 90px;
    font-size: 0.9em;
  }
  
  .bubble-large {
    max-width: 280px;
    min-width: 180px;
    min-height: 110px;
    font-size: 1em;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .bubble:hover {
    transform: scale(1.05);
    z-index: 20;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }
  
  .bubble-content {
    padding: 5px;
  }
  
  .bubble-name {
    font-weight: bold;
    margin-bottom: 5px;
  }
  
  .bubble-message {
    line-height: 1.3;
  }
  
  .section-title {
    text-align: center;
    margin-bottom: 30px;
    color: #5a67d8;
    font-family: 'Baloo 2', cursive;
    position: relative;
    z-index: 5;
  }
  
  .no-messages {
    text-align: center;
    color: #718096;
    font-style: italic;
    margin-top: 50px;
  }
  
  #bubble-container {
    position: relative;
    width: 100%;
    height: 500px; /* Fixed height to prevent covering title */
    margin: 0 auto;
    overflow: hidden;
  }



  /* Navigation Styles */
  .nav-container {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }
  
  .nav-hidden {
    transform: translateY(-100%);
  }
  
  .nav-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }
  
  .nav-logo {
    font-family: 'Baloo 2', cursive;
    font-weight: 700;
    font-size: 1.5rem;
    color: #5a67d8;
    text-decoration: none;
  }
  
  .nav-menu {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 2rem;
  }
  
  .nav-link {
    text-decoration: none;
    color: #4a5568;
    font-weight: 500;
    transition: color 0.3s ease;
    position: relative;
    padding: 0.5rem 0;
  }
  
  .nav-link:hover {
    color: #5a67d8;
  }
  
  .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: #5a67d8;
    transition: width 0.3s ease;
  }
  
  .nav-link:hover::after {
    width: 100%;
  }
  
  .nav-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #4a5568;
  }

  .button-container {
        margin-top: 30px;
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
        border-radius: 100%;
    }
    .button-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        border-radius: 100%;
    }
  
  /* Mobile Navigation */
  @media (max-width: 768px) {
    .nav-menu {
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      background: white;
      flex-direction: column;
      padding: 1rem;
      gap: 0;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transform: translateY(-100%);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .nav-menu.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }
    
    .nav-link {
      display: block;
      padding: 1rem;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .nav-link:last-child {
      border-bottom: none;
    }
    
    .nav-toggle {
      display: block;
      position: absolute;
      left: 20px;
    }
    
    .nav-logo {
    margin-left: 30px; /* Adjust this value as needed */
    /*text-align: center;*/
    flex: 1;
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}


    .install-container {
            text-align: center;
            margin-top: 2rem;
        }

        /* #ff7eb9', '#7afcff', '#ff65a3', '#5DE2E7', '#CC6CE7' , '#060270' */

        #installPWA {
            padding: 15px 30px;
            background: linear-gradient(to right, #ff7eb9, #fc4296); 
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
            align-items: center;
        }
        
        #installPWA i {
            margin-right: 10px;
        }
        
        #installPWA:hover {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.4);
        }
        
        #installPWA:active {
            transform: translateY(0);
        }


    </style>
</head>
<body class="relative">

    <!-- Add this HTML right after the <body> tag -->
        <div class="nav-container" id="navbar">
        <div class="nav-content">
            <a href="#hero" class="nav-logo">Zhi Han & Zhen Han</a>
            
            <button class="nav-toggle" id="navToggle">
            <i data-feather="menu"></i>
            </button>
            
            <ul class="nav-menu" id="navMenu">
            <li><a href="#hero" class="nav-link">Home</a></li>
            <li><a href="#venue" class="nav-link">Venue</a></li>
            <li><a href="#attire" class="nav-link">Attire</a></li>
            <li><a href="#gifts" class="nav-link">Gifts</a></li>
            <li><a href="#details" class="nav-link">Details</a></li>
            <li><a href="#gallery" class="nav-link">Gallery</a></li>
            <li><a href="#wishes" class="nav-link">Wishes</a></li>
            <li><a href="#sendwishes" class="nav-link">Send Wishes</a></li>
            </ul>
        </div>
        </div>


    <!-- Confetti Animation -->
    <div id="confetti-container"></div>

    <!-- Hero Section with Overlay Banner -->
    <section class="hero-bg min-h-screen flex items-center justify-center relative overflow-hidden">
        <!-- Banner Image Overlay -->
        <div id="hero" class="absolute top-0 left-0 w-full z-20">
            <img src="images/banner1.png" alt="Celebration Banner" class="banner-img">
        </div>
        
        <div class="absolute w-full h-full overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent to-white opacity-30"></div>
        </div>
        
        <div class="container mx-auto px-6 py-20 text-center relative z-10 mt-40 md:mt-48" data-aos="fade-up">
            <h1 class="text-4xl md:text-6xl font-bold text-pink-600 mb-4">You're Invited!</h1>
            <p class="text-xl md:text-2xl text-blue-600 mb-8">Join us in celebrating Zhi Han's 2nd Birthday<br>& Zhen Han's Dedication</p>
            
            <div class="flex justify-center mb-12">
                <div class="w-32 h-32 md:w-40 md:h-40 rounded-full bg-white shadow-lg mx-2 flex items-center justify-center overflow-hidden floating">
                    <img src="images/zhi.jpg" alt="Zhi Han" class="w-full h-full object-cover">
                </div>
                <div class="w-32 h-32 md:w-40 md:h-40 rounded-full bg-white shadow-lg mx-2 flex items-center justify-center overflow-hidden floating" style="animation-delay: 0.5s;">
                    <img src="images/zhen.jpg" alt="Zhen Han" class="w-full h-full object-cover">
                </div>
            </div>
            
            <div class="bg-white bg-opacity-80 rounded-xl p-6 max-w-2xl mx-auto shadow-lg">
                <div class="flex flex-col md:flex-row justify-around items-center mb-6">
                    <div class="flex items-center mb-4 md:mb-0">
                        <i data-feather="calendar" class="text-pink-500 mr-2"></i>
                        <span class="text-gray-700">December 7, 2025</span>
                    </div>
                    <div class="flex items-center mb-4 md:mb-0">
                        <i data-feather="clock" class="text-blue-500 mr-2"></i>
                        <span class="text-gray-700">11:30 AM</span>
                    </div>
                    <div class="flex items-center">
                        <i data-feather="map-pin" class="text-purple-500 mr-2"></i>
                        <span class="text-gray-700">Casa Poblacion Plaridel</span>
                    </div>
                </div>
                
                <div id="countdown" class="text-3xl md:text-4xl font-bold mb-6 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent">
                    Loading...
                </div>


                <div class="button-container">
                    <div class="button-wrapper">
                        <!-- Android Calendar Button -->
                        <add-to-calendar-button 
                            name="2nd Birthday of Zhi Han and Dedication of Zhen Han üéâ"
                            startDate="2025-12-07"
                            location="Casa Poblacion Events Place - Plaridel"
                            description="2nd Birthday of Zhi Han and Dedication of Zhen Han üéâ&#10;Date: December 7, 2025&#10;Time: 11:30am&#10;Venue: Casa Poblacion Events Place - Plaridel &#10;Invitation: https://zhihan-zhenhan.vercel.app/"
                            timeZone="Asia/Manila"
                            options="['Google']"
                            allDay="true"
                            label="Add to Calendar"
                            listStyle="modal"
                            buttonsList
                            hideBackground
                            hideCheckmark
                        ></add-to-calendar-button>
                    </div>
                </div>
                
                <div class="install-container">
                    <button id="installPWA" style="display: none;" >
                        <i class="fas fa-download"></i> Install App
                    </button>
                </div>
                
                <!-- <a href="https://maps.app.goo.gl/BhiZZmDgv9HyRn4F9" target="_blank" class="inline-flex items-center px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition duration-300 shadow-lg">
                    <i data-feather="map" class="mr-2"></i> Open in Google Maps
                </a> -->
                
            </div>
        </div>
    </section>

    <!-- Venue Section -->
    <section id="venue" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8 text-blue-600" data-aos="fade-up">Venue Details</h2>
            
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="space-y-4" data-aos="fade-right">
                    <div class="rounded-xl overflow-hidden shadow-md">
                        <img src="images/venue1.jpg" alt="Venue Image 1" class="w-full h-64 object-cover">
                    </div>
                    <div class="rounded-xl overflow-hidden shadow-md">
                        <img src="images/venue2.jpg" alt="Venue Image 2" class="w-full h-64 object-cover">
                    </div>
                </div>
                
                <div class="flex flex-col justify-center" data-aos="fade-left">
                    <h3 class="text-2xl font-bold text-pink-600 mb-4">Location</h3>
                    <h3 class="text-2xl font-bold text-blue-600 mb-4">Casa Poblacion Events Place - Plaridel</h3>
                    <p class="text-gray-700 mb-6">Join us for this special celebration. The venue will be decorated with love to create a joyful atmosphere for our little ones' milestones.</p>
                    
                    <a href="https://maps.app.goo.gl/BhiZZmDgv9HyRn4F9" target="_blank" class="inline-flex items-center px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition duration-300 shadow-lg w-full justify-center">
                        <i data-feather="map" class="mr-2"></i> Open in Google Maps
                    </a>

                    <p class="text-gray-700 mb-6"><br>We're so excited to have you! Just a heads up, the venue has limited parking (about 10 cars), but it's very convenient to get there by public transportation.</p>
                    
                </div>
            </div>
        </div>
    </section>

    <!-- Attire Section -->
    <section id="attire" class="py-20 bg-gradient-to-br from-pink-50 to-blue-50">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8 text-pink-600" data-aos="fade-up">Dress Code</h2>
            
            <div class="max-w-4xl mx-auto">
                <p class="text-center text-gray-700 mb-8" data-aos="fade-up">
                    We would appreciate it if our guests could join us in wearing light, joyful colors to match our celebration theme.
                </p>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl p-6 shadow-md" data-aos="fade-right">
                        <div class="rounded-xl overflow-hidden shadow-md mb-4">
                            <img src="images/GP.jpg" alt="Godparents Attire" class="w-full h-48 object-cover">
                        </div>
                        <h3 class="text-xl font-bold text-blue-600 mb-2">For Godparents</h3>
                        <p class="text-gray-700">We kindly request our beloved godparents to wear white attire for the dedication ceremony.</p>
                    </div>
                    
                    <div class="bg-yellow-50 rounded-xl p-6 shadow-md" data-aos="fade-left">
                        <div class="rounded-xl overflow-hidden shadow-md mb-4">
                            <img src="images/guest.jpg" alt="Guest Attire" class="w-full h-48 object-cover">
                        </div>
                        <h3 class="text-xl font-bold text-pink-600 mb-2">For Other Guests</h3>
                        <p class="text-gray-700">We invite all other guests to wear light pastel colors to create a harmonious and festive atmosphere.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gift Suggestions -->
    <section id="gifts" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8 text-blue-600" data-aos="fade-up">Gift Suggestions</h2>
            
            <p class="text-center text-gray-700 max-w-2xl mx-auto mb-12" data-aos="fade-up">
                Your presence is the greatest gift, but if you'd like to bring something, here are a few ideas that would be appreciated:
            </p>
            
            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">

                <div class="gift-item bg-pink-50 rounded-xl p-6 text-center shadow-md" data-aos="fade-up" data-aos-delay="0">
                    
                    <h3 class="text-xl font-bold text-pink-600 mb-2">Books</h3>
                    <p class="text-gray-700">Educational books for developing young minds</p>

                    <div class="rounded-xl overflow-hidden shadow-md mb-4 mx-auto w-50 h-50">
                        <img src="images/book.jpg" alt="Books" class="w-full h-full object-cover">
                    </div>
                </div>
              
               <!-- QR Code Section -->
                <div class="gift-item bg-purple-50 rounded-xl p-6 text-center shadow-md" data-aos="fade-up" data-aos-delay="400">
                    <h3 class="text-xl font-bold text-purple-600 mb-2">Savings</h3>
                    <p class="text-gray-700">Contributions to the children's future education fund</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="rounded-xl overflow-hidden shadow-md cursor-pointer transform transition hover:scale-103 mx-auto max-w-xs">
                            <img src="images/qr1.jpg" alt="QR Code 1" class="w-full h-auto object-cover qr-image" data-src="images/qr1.jpg">
                        </div>
                        <div class="rounded-xl overflow-hidden shadow-md cursor-pointer transform transition hover:scale-103 mx-auto max-w-xs">
                            <img src="images/qr2.jpg" alt="QR Code 2" class="w-full h-auto object-cover qr-image" data-src="images/qr2.jpg">
                        </div>
                    </div>
                </div>
                
                <div class="gift-item bg-blue-50 rounded-xl p-6 text-center shadow-md" data-aos="fade-up" data-aos-delay="200">
                    
                    <h3 class="text-xl font-bold text-blue-600 mb-2">Clothing</h3>
                    <p class="text-gray-700">Size 3-4 y/o for Zhi Han, 1-2 y/o for Zhen Han</p>

                    <div class="rounded-xl overflow-hidden shadow-md mb-4 mx-auto w-50 h-50">
                        <img src="images/clothes.jpg" alt="Clothing" class="w-full h-full object-cover">
                    </div>
                </div>

               

                <!-- <div class="gift-item bg-purple-52 rounded-xl p-6 text-center shadow-md" data-aos="fade-up" data-aos-delay="400">
                    
                    <h3 class="text-xl font-bold text-purple-600 mb-2">Savings</h3>
                    <p class="text-gray-700">Contributions to the children's future education fund</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-4">
                        <div class="rounded-xl overflow-hidden shadow-md mb-4 mx-auto w-50 h-50">
                            <img src="images/qr1.jpg" alt="QR Code 1" class="w-full h-full object-cover">
                        </div>
                        <div class="rounded-xl overflow-hidden shadow-md mb-4 mx-auto w-50 h-50">
                            <img src="images/qr2.jpg" alt="QR Code 2" class="w-full h-full object-cover">
                        </div>
                    </div>
                </div> -->

            </div>
        </div>
    </section>

    <!-- QR Code Modal -->
    <div id="qrModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg overflow-hidden max-w-lg w-full mx-4">
            <h3 class="text-center font-bold text-purple-700 text-2xl md:text-3xl">Savings</h3>
            <div class="relative">
                <button id="closeModal" class="absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-1 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <img id="modalImage" src="" alt="QR Code" class="w-full h-auto">
            </div>
            <div class="p-4 bg-gray-100">
                <p class="text-center text-gray-700">Scan the QR code to contribute to the children's future funds</p>
            </div>
        </div>
    </div>

    <!-- Event Details -->
    <section id="details" class="py-20 bg-gray-50">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 text-pink-600" data-aos="fade-up">Celebration Details</h2>
            
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="bg-pink-50 rounded-xl p-8 shadow-md" data-aos="fade-right">
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 rounded-full bg-pink-100 flex items-center justify-center mr-4">
                            <i data-feather="gift" class="text-pink-500 text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-pink-600">Zhi Han's 2nd Birthday</h3>
                    </div>
                    <p class="text-gray-700">Join us as we celebrate our little princess turning two! There will be games, food, and lots of fun activities for everyone.</p>
                </div>
                
                <div class="bg-blue-50 rounded-xl p-8 shadow-md" data-aos="fade-left">
                    <div class="flex items-center mb-4">
                        <div class="w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mr-4">
                            <i data-feather="heart" class="text-blue-500 text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-blue-600">Zhen Han's Dedication</h3>
                    </div>
                    <p class="text-gray-700">We're dedicating our precious baby boy to God and would love for you to be part of this special moment in our family's life.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery -->
    <section id="gallery" class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12 text-blue-600" data-aos="fade-up">Our Precious Moments</h2>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in">
                    <img src="images/1.jpg" alt="Family Photo" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="100">
                    <img src="images/2.jpg" alt="Zhi Han" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="200">
                    <img src="images/3.jpg" alt="Zhen Han" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="300">
                    <img src="images/4.jpg" alt="Family" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="400">
                    <img src="images/5.jpg" alt="Celebration" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="500">
                    <img src="images/6.jpg" alt="Party" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="600">
                    <img src="images/7.jpg" alt="Family Time" class="w-full h-48 md:h-64 object-cover">
                </div>
                <div class="gallery-item rounded-xl overflow-hidden shadow-md" data-aos="zoom-in" data-aos-delay="700">
                    <img src="images/8.jpg" alt="Celebration" class="w-full h-48 md:h-64 object-cover">
                </div>
            </div>
        </div>
    </section>

    <!-- Warm Wishes Section -->
    <section id="wishes" class="warm-wishes-section py-20">
    <div class="container mx-auto px-6">
        <h2 class="text-3xl font-bold text-center mb-8 text-pink-600 section-title" data-aos="fade-up">
        Greetings & Warm Wishes ‚ú®
        </h2>
        
        <div id="bubble-container" class="relative w-full">
        <p id="no-messages" class="no-messages hidden">No messages yet. Be the first to send your warm wishes!</p>
        </div>
    </div>
    </section>

    <!-- Send Warm Wishes -->
    <section id="sendwishes" class="py-20 bg-gradient-to-br from-pink-50 to-blue-50">
        <div class="container mx-auto px-6 max-w-2xl">
            <h2 class="text-3xl font-bold text-center mb-8 text-pink-600" data-aos="fade-up">Send Your Greetings & Warm Wishes</h2>
            
            <div class="bg-white rounded-xl p-8 shadow-lg" data-aos="fade-up" data-aos-delay="100">
                 
                <!-- Alert container (add this) -->
    <div id="alertContainer" class="fixed top-4 right-4 z-50 max-w-sm w-full"></div>
    <div class="bg-white rounded-xl p-8 shadow-lg" data-aos="fade-up" data-aos-delay="100">
      
        <form id="rsvpForm" class="space-y-4">

                    <div>
                        <label for="name" class="block text-gray-700 mb-2">Your Name</label>
                        <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-300 focus:border-pink-300">
                    </div>
                    <div>
                        <label for="message" class="block text-gray-700 mb-2">Your Message</label>
                        <textarea id="message" name="message" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-300 focus:border-blue-300" placeholder="We're so excited to celebrate with you!"></textarea>
                    </div>
                    <button type="submit" id="submitBtn" class="w-full bg-gradient-to-r from-pink-500 to-blue-500 text-white py-3 rounded-lg font-medium hover:opacity-90 transition duration-300 shadow-md">
                        Send Message
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 bg-white border-t border-gray-200">
        <div class="container mx-auto px-6 text-center">
            
            <p class="text-gray-600">We can't wait to celebrate with you!</p>
            <p class="text-gray-500 mt-2">December 7, 2025 ‚Ä¢ Casa Poblacion</p>
            <p class="text-gray-400 text-sm mt-2">Created with ‚ù§Ô∏è for our little ones</p>

        </div>
        <div class="install-container">
                <button id="installPWA" style="display: none;" >
                    <i class="fas fa-download"></i> Install App
                </button>
            </div>
    </footer>

    <script>
        // Confetti animation
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            
            // Random position
            confetti.style.left = Math.random() * 95 + 'vw';
            
            // Random size
            const size = Math.random() * 10 + 10;
            confetti.style.width = size + 'px';
            confetti.style.height = size + 'px';
            
            // Random color
            const colors = ['#ff7eb9', '#7afcff', '#ff65a3', '#5DE2E7', '#CC6CE7' , '#060270'];
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // Random animation duration
            confetti.style.animationDuration = Math.random() * 3 + 4 + 's';
            
            container.appendChild(confetti);
            
            // Remove confetti after animation completes
            setTimeout(() => {
                confetti.remove();
            }, 5000);
        }
        
        // Create confetti every 100ms
        setInterval(createConfetti, 100);
        
        // Countdown timer
        function updateCountdown() {
            const eventDate = new Date('December 7, 2025 11:30:00').getTime();
            const now = new Date().getTime();
            const distance = eventDate - now;
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            const countdownElement = document.getElementById('countdown');
            
            if (distance < 0) {
                countdownElement.innerHTML = 'The celebration has begun!';
                return;
            }
            
            countdownElement.innerHTML = `
                <div class="grid grid-cols-4 gap-2">
                    <div class="text-center">
                        <div class="text-2xl md:text-3xl font-bold">${days}</div>
                        <div class="text-sm">Days</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl md:text-3xl font-bold">${hours}</div>
                        <div class="text-sm">Hours</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl md:text-3xl font-bold">${minutes}</div>
                        <div class="text-sm">Minutes</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl md:text-3xl font-bold">${seconds}</div>
                        <div class="text-sm">Seconds</div>
                    </div>
                </div>
            `;
        }
        
        // Update countdown every second
        setInterval(updateCountdown, 1000);
        updateCountdown();
        
        // Initialize animations and icons
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 800,
                easing: 'ease-in-out',
                once: true
            });
            feather.replace();
        });

        
            // Form submission handling
            document.addEventListener('DOMContentLoaded', function() {
                const form = document.getElementById('rsvpForm');
                const submitBtn = document.getElementById('submitBtn');
                const alertContainer = document.getElementById('alertContainer');
                const alertMessage = document.getElementById('alertMessage');
                
                // Your Google Apps Script Web App URL
                const scriptURL = 'https://script.google.com/macros/s/AKfycbyI0hATitq_DIz_W6nBdhPkjyb1IZfTLjvUIDDMQwvhSHjRJ3OUGPjdQaYMEzXhQbZgmw/exec';
                
                /// Improved alert function
                function showAlert(type, message) {
                const alertContainer = document.getElementById('alertContainer');
                const alertMessage = document.getElementById('alertMessage');
                
                // Create alert container if it doesn't exist
                if (!alertContainer) {
                    const newAlertContainer = document.createElement('div');
                    newAlertContainer.id = 'alertContainer';
                    newAlertContainer.className = 'fixed top-4 right-4 z-50 max-w-sm w-full';
                    document.body.appendChild(newAlertContainer);
                }
                
                const alertDiv = document.createElement('div');
                alertDiv.className = `p-4 rounded-lg shadow-lg mb-2 ${
                    type === 'success' 
                    ? 'bg-green-100 border-green-400 text-green-700' 
                    : 'bg-red-100 border-red-400 text-red-700'
                }`;
                alertDiv.textContent = message;
                
                document.getElementById('alertContainer').appendChild(alertDiv);
                
                // Auto-remove after 10 seconds
                setTimeout(() => {
                    alertDiv.remove();
                }, 10000);
                }
                
                // Submit form handler
                form.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const originalText = submitBtn.innerHTML;
                    
                    try {
                        submitBtn.innerHTML = '<div class="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div> Sending...';
                        submitBtn.disabled = true;
                        
                        // Create form data
                        const formData = new FormData();
                        formData.append('name', document.getElementById('name').value);
                        formData.append('message', document.getElementById('message').value);
                        formData.append('timestamp', new Date().toISOString());
                        
                        // Submit to Google Sheets
                        const response = await fetch(scriptURL, {
                        method: 'POST',
                        body: formData
                        });
                        
                        const result = await response.json();
                        
                        if (result.success) {
                            showAlert('success', 'Your message was sent successfully! Thank you for your warm wishes!');
                            form.reset();
                        } else {
                            throw new Error(result.message || 'Failed to send');
                        }
                    
                    } catch (error) {
                        console.error('Error sending message:', error);
                        showAlert('error', error.message || 'Error sending message. Please try again.');
                    } finally {
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    }
                });
            });


    // QR Code Modal functionality
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('qrModal');
        const modalImage = document.getElementById('modalImage');
        const closeModal = document.getElementById('closeModal');
        const qrImages = document.querySelectorAll('.qr-image');
        
        // Open modal when QR code is clicked
        qrImages.forEach(img => {
            img.addEventListener('click', function() {
                modalImage.src = this.getAttribute('data-src');
                modalImage.alt = this.alt;
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            });
        });
        
        // Close modal when X is clicked
        closeModal.addEventListener('click', function() {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        });
        
        // Close modal when clicking outside the image
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });
    });


// Store active bubbles and message data
    const activeBubbles = [];
    const allMessages = [];
    const displayedMessages = new Set(); // Track which messages have been displayed
    const BUBBLE_CONTAINER_ID = 'bubble-container';
    const MAX_BUBBLES = 10;
    let animationFrameId = null;
    let lastFetchTime = 0;

    // Function to fetch data from Google Sheets
    async function fetchWarmWishes() {
        try {
        const now = Date.now();
        // Only fetch if it's been at least 10 seconds since last fetch
        if (now - lastFetchTime < 10000 && allMessages.length > 0) {
            return;
        }
        
        lastFetchTime = now;
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyI0hATitq_DIz_W6nBdhPkjyb1IZfTLjvUIDDMQwvhSHjRJ3OUGPjdQaYMEzXhQbZgmw/exec';
        
        const response = await fetch(scriptURL + '?action=getData');
        const result = await response.json();
        
        // Check if the request was successful and data exists
        if (result.success && result.data && result.data.length > 0) {
            document.getElementById('no-messages').classList.add('hidden');
            
            // Add new messages to the queue, prioritizing ones not yet displayed
            let hasNewMessages = false;
            result.data.forEach(msg => {
            // Create a unique identifier for the message
            const msgId = `${msg.name}-${msg.message}`;
            
            if (!displayedMessages.has(msgId)) {
                // Add to the beginning of the array to prioritize new messages
                allMessages.unshift({...msg, id: msgId, isNew: true});
                displayedMessages.add(msgId);
                hasNewMessages = true;
            } else if (!allMessages.some(m => m.id === msgId)) {
                // Add to the end if it's not currently in the display queue
                allMessages.push({...msg, id: msgId, isNew: false});
            }
            });
            
            // If we have new messages, try to add a bubble immediately
            if (hasNewMessages && activeBubbles.length < MAX_BUBBLES) {
            addBubble();
            }
        } else {
            document.getElementById('no-messages').classList.remove('hidden');
        }
        } catch (error) {
        console.error('Error fetching warm wishes:', error);
        }
    }

    // Function to add a bubble if conditions are right
    function addBubble() {
        if (allMessages.length === 0 || activeBubbles.length >= MAX_BUBBLES) return;
        
        const container = document.getElementById(BUBBLE_CONTAINER_ID);
        const containerRect = container.getBoundingClientRect();
        
        // Get the next message (prioritize new messages)
        let messageIndex = 0;
        for (let i = 0; i < allMessages.length; i++) {
        if (allMessages[i].isNew) {
            messageIndex = i;
            break;
        }
        }
        
        const message = allMessages[messageIndex];
        allMessages.splice(messageIndex, 1); // Remove from queue
        message.isNew = false; // Mark as displayed
        
        // Create new bubble
        createBubble(message, container, containerRect);
    }

    // Function to create a single bubble
    function createBubble(message, container, containerRect) {
        const bubble = document.createElement('div');
        
        // Randomly determine bubble size
        const sizes = ['xs', 'small', 'medium'];
        const size = sizes[Math.floor(Math.random() * sizes.length)];
        bubble.className = `bubble bubble-${size}`;
        
        // Random pastel colors
        const colors = [
        '#ffd6e7', '#d6f3ff', '#ffefd6', '#d6ffda', 
        '#e6d6ff', '#fffbd6', '#d6f0ff', '#ffd6d6',
        '#d6e4ff', '#ffd6f3', '#e7ffd6', '#d6fff0'
        ];
        // const color = colors[Math.floor(Math.random() * colors.length)];

if (typeof colorIndex === 'undefined') {
    colorIndex = 0;
}

// Get the next color in sequence
const color = colors[colorIndex % colors.length];
colorIndex++;
        
        // Apply background color
        bubble.style.backgroundColor = color;
        
        // Add content
        const bubbleContent = document.createElement('div');
        bubbleContent.className = 'bubble-content';
        
        const nameEl = document.createElement('div');
        nameEl.className = 'bubble-name';
        nameEl.textContent = message.name;
        
        const messageEl = document.createElement('div');
        messageEl.className = 'bubble-message';
        messageEl.textContent = message.message;
        
        bubbleContent.appendChild(nameEl);
        bubbleContent.appendChild(messageEl);
        bubble.appendChild(bubbleContent);
        
        // Add to container first to measure dimensions
        container.appendChild(bubble);
        
        // Find a position at the bottom
        const position = findPosition(bubble, containerRect);
        
        // Set initial position at the bottom
        bubble.style.left = `${position.x}px`;
        bubble.style.top = `${containerRect.height}px`; // Start at bottom
        
        // Store bubble reference
        const bubbleData = {
        element: bubble,
        x: position.x,
        y: parseInt(bubble.style.top),
        width: bubble.offsetWidth,
        height: bubble.offsetHeight,
        speed: 0.5 + Math.random() * 0.5, // Random speed between 0.5 and 1
        isMoving: true,
        isNew: message.isNew,
        id: Date.now() + Math.random() // Unique ID for this bubble
        };
        
        activeBubbles.push(bubbleData);
        
        // Add hover effect
        bubble.addEventListener('mouseenter', () => {
        bubbleData.isHovered = true;
        bubble.style.zIndex = '20';
        bubble.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.2)';
        });
        
        bubble.addEventListener('mouseleave', () => {
        bubbleData.isHovered = false;
        bubble.style.zIndex = '1';
        bubble.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.1)';
        });
        
        return bubbleData;
    }

    // Function to find a position at the bottom
    function findPosition(bubble, containerRect) {
        const bubbleWidth = bubble.offsetWidth;
        const maxX = containerRect.width - bubbleWidth;
        
        // Try to find a position with minimal overlap
        let bestX = Math.floor(Math.random() * maxX);
        let minOverlap = Infinity;
        
        // Test several X positions
        for (let i = 0; i < 10; i++) {
        const testX = Math.floor(Math.random() * maxX);
        let totalOverlap = 0;
        
        for (const activeBubble of activeBubbles) {
            // Only check bubbles near the bottom
            if (activeBubble.y > containerRect.height - 100) {
            const overlap = calculateOverlap(
                testX, containerRect.height, bubbleWidth, bubble.offsetHeight,
                activeBubble.x, activeBubble.y, activeBubble.width, activeBubble.height
            );
            totalOverlap += overlap;
            }
        }
        
        if (totalOverlap < minOverlap) {
            minOverlap = totalOverlap;
            bestX = testX;
        }
        }
        
        return {
        x: bestX,
        y: containerRect.height
        };
    }

    // Function to calculate overlap area between two rectangles
    function calculateOverlap(x1, y1, w1, h1, x2, y2, w2, h2) {
        const xOverlap = Math.max(0, Math.min(x1 + w1, x2 + w2) - Math.max(x1, x2));
        const yOverlap = Math.max(0, Math.min(y1 + h1, y2 + h2) - Math.max(y1, y2));
        return xOverlap * yOverlap;
    }

    // Function to check if two rectangles overlap
    function doRectanglesOverlap(x1, y1, w1, h1, x2, y2, w2, h2, padding = 5) {
        return !(
        x1 + w1 <= x2 + padding ||
        x2 + w2 <= x1 + padding ||
        y1 + h1 <= y2 + padding ||
        y2 + h2 <= y1 + padding
        );
    }

    // Check if a bubble can move (no collisions with bubbles above)
    function canBubbleMove(bubble) {
        for (const otherBubble of activeBubbles) {
        if (bubble.id === otherBubble.id) continue;
        
        // Only check bubbles that are above this bubble
        if (otherBubble.y < bubble.y) {
            if (doRectanglesOverlap(
            bubble.x, bubble.y - bubble.speed, bubble.width, bubble.height,
            otherBubble.x, otherBubble.y, otherBubble.width, otherBubble.height
            )) {
            return false;
            }
        }
        }
        return true;
    }

    // Main animation function
    function animateBubbles() {
        const container = document.getElementById(BUBBLE_CONTAINER_ID);
        const containerRect = container.getBoundingClientRect();
        
        // Update each bubble's position
        for (let i = 0; i < activeBubbles.length; i++) {
        const bubble = activeBubbles[i];
        
        // Skip if bubble is hovered
        if (bubble.isHovered) continue;
        
        // Check if bubble reached the top
        if (bubble.y + bubble.height < 0) {
            // Remove bubble
            bubble.element.remove();
            activeBubbles.splice(i, 1);
            i--;
            continue;
        }
        
        // Check if bubble can move
        const canMove = canBubbleMove(bubble);
        
        if (canMove && !bubble.isMoving) {
            // Resume movement if it was previously stopped
            bubble.isMoving = true;
        } else if (!canMove && bubble.isMoving) {
            // Stop movement if there's a collision
            bubble.isMoving = false;
        }
        
        // Move bubble if it's allowed to move
        if (bubble.isMoving) {
            bubble.y -= bubble.speed;
            bubble.element.style.top = `${bubble.y}px`;
        }
        }
        
        // Try to add a new bubble if we have space
        if (activeBubbles.length < MAX_BUBBLES && allMessages.length > 0) {
        addBubble();
        }
        
        // Continue animation
        animationFrameId = requestAnimationFrame(animateBubbles);
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Fetch initial messages
        fetchWarmWishes();
        
        // Start animation
        animateBubbles();
        
        // Set up interval to fetch new messages every 10 seconds
        setInterval(fetchWarmWishes, 10000);
    });

    // Clean up animation when leaving page
    window.addEventListener('beforeunload', function() {
        if (animationFrameId) {
        cancelAnimationFrame(animationFrameId);
        }
    });

  // Navigation functionality// Navigation functionality
document.addEventListener('DOMContentLoaded', function() {
    const navbar = document.getElementById('navbar');
    const navToggle = document.getElementById('navToggle');
    const navMenu = document.getElementById('navMenu');
    const navLinks = document.querySelectorAll('.nav-link');
    const navLogo = document.querySelector('.nav-logo');
    let lastScrollY = window.scrollY;
    let menuOpen = false;
    
    // Toggle mobile menu
    navToggle.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent this click from triggering the document click handler
        toggleMenu();
    });
    
    // Function to toggle menu
    function toggleMenu() {
        navMenu.classList.toggle('active');
        menuOpen = navMenu.classList.contains('active');
        const icon = navToggle.querySelector('i');
        if (menuOpen) {
            feather.icons.x.replaceFeather(icon);
        } else {
            feather.icons.menu.replaceFeather(icon);
        }
    }
    
    // Close menu when clicking on a link
    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            if (window.innerWidth <= 768) {
                closeMenu();
            }
        });
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
        if (menuOpen && !navMenu.contains(e.target) && e.target !== navToggle) {
            closeMenu();
        }
    });
    
    // Close menu function
    function closeMenu() {
        navMenu.classList.remove('active');
        menuOpen = false;
        feather.icons.menu.replaceFeather(navToggle.querySelector('i'));
    }
    
    // Nav logo click - scroll to hero section
    navLogo.addEventListener('click', function(e) {
        e.preventDefault();
        closeMenu(); // Close menu if open
        
        // Scroll to hero section
        const heroSection = document.querySelector('.hero-bg');
        if (heroSection) {
            const targetPosition = heroSection.offsetTop - 80; // Adjust for header height
            
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
        }
    });
    
    // Hide navbar on scroll down, show on scroll up
    window.addEventListener('scroll', function() {
        if (window.innerWidth > 768) {
            if (window.scrollY > lastScrollY && window.scrollY > 100) {
                navbar.classList.add('nav-hidden');
            } else {
                navbar.classList.remove('nav-hidden');
            }
        }
        lastScrollY = window.scrollY;
    });
    
    // Add active class to current section in navigation
    function updateActiveNav() {
        const sections = document.querySelectorAll('section[id]');
        const scrollY = window.pageYOffset;
        
        sections.forEach(section => {
            const sectionHeight = section.offsetHeight;
            const sectionTop = section.offsetTop - 100;
            const sectionId = section.getAttribute('id');
            
            if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
                document.querySelector(`.nav-link[href="#${sectionId}"]`).classList.add('active');
            } else {
                document.querySelector(`.nav-link[href="#${sectionId}"]`).classList.remove('active');
            }
        });
    }
    
    window.addEventListener('scroll', updateActiveNav);
    
    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const targetPosition = targetElement.offsetTop - 80; // Adjust for header height
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
                
                // Close menu on mobile after clicking a link
                if (window.innerWidth <= 768) {
                    closeMenu();
                }
            }
        });
    });

    // Initialize feather icons for the menu toggle
    feather.replace();
  });
    </script>

        <script src="install.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js', { scope: '/' })
            .then((registration) => {
            console.log('Service Worker registered with scope:', registration.scope);
            })
            .catch((error) => {
            console.error('Service Worker registration failed:', error);
            });
        }
    </script>

</body>
</html>
